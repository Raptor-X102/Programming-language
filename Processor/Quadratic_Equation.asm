PUSH 1
PUSH 2
PUSH 1
CALL SOLVE_QUADRATIC_EQUATION
HLT



SOLVE_QUADRATIC_EQUATION:
POP CX
POP BX
POP AX

PUSH AX
PUSH 0
JE SOLVE_LINEAR

PUSH BX
PUSH BX
MUL
PUSH 4
PUSH AX
PUSH CX
MUL
MUL
SUB
POP DX

PUSH DX
PUSH 0
JB D_LESS_0

PUSH DX
PUSH 0
JE D_EQUALS_0

PUSH DX
PUSH 0
JA D_BIGGER_0


D_LESS_0:
PUSH NAN
OUT
RET

D_EQUALS_0:
PUSH BX
PUSH -1
MUL
PUSH AX
PUSH 2
MUL
DIV
OUT
RET

D_BIGGER_0:
PUSH BX
PUSH -1
MUL
PUSH DX
SQRT
ADD
PUSH AX
PUSH 2
MUL
DIV
OUT

PUSH BX
PUSH -1
MUL
PUSH DX
SQRT
SUB
PUSH AX
PUSH 2
MUL
DIV
OUT

RET



SOLVE_LINEAR:
CALL SOLVE_LINEAR_EQUATION
RET

SOLVE_LINEAR_EQUATION:
PUSH BX
PUSH 0
JE B_EQUALS_0
PUSH CX
PUSH -1
MUL
PUSH BX
DIV
OUT
RET

B_EQUALS_0:
PUSH CX
PUSH 0
JE C_EQUALS_0
PUSH NAN
OUT
RET

C_EQUALS_0:
PUSH INF
OUT
RET
